<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Auto Scheduler</title>
  <link rel="manifest" href="./manifest.json" />
  <link rel="stylesheet" href="style.css" />
  <meta name="theme-color" content="#1976d2" />
</head>
<body>
  <div id="app">
    <!-- Navigation -->
    <nav class="nav">
      <button id="nav-today" class="nav-btn active">今日</button>
      <button id="nav-tasks" class="nav-btn">タスク</button>
      <button id="nav-settings" class="nav-btn">設定</button>
    </nav>

    <!-- Today View -->
    <section id="view-today" class="view">
      <header class="view-header">
        <h1>今日の時間割</h1>
        <button id="generate-btn" class="primary-btn">自動作成</button>
      </header>
      <div id="schedule-list" class="timeline"></div>
      <div id="unplaced-container" class="unplaced"></div>
      <button id="export-btn" class="secondary-btn">ics書き出し</button>
    </section>

    <!-- Tasks View -->
    <section id="view-tasks" class="view hidden">
      <header class="view-header">
        <h1>タスク管理</h1>
        <button id="add-task-toggle" class="primary-btn">タスク追加</button>
      </header>
      <form id="task-form" class="task-form hidden">
        <label>
          タスク名<br />
          <input type="text" id="task-title" required />
        </label>
        <label>
          所要時間（分）<br />
          <input type="number" id="task-duration" min="5" step="5" required />
        </label>
        <label>
          締切日<br />
          <input type="date" id="task-deadline-date" />
        </label>
        <label>
          締切時刻<br />
          <input type="time" id="task-deadline-time" />
        </label>
        <label>
          優先度<br />
          <select id="task-priority">
            <option value="高">高</option>
            <option value="中" selected>中</option>
            <option value="低">低</option>
          </select>
        </label>
        <label>
          分割可否<br />
          <select id="task-split">
            <option value="可" selected>可</option>
            <option value="不可">不可</option>
          </select>
        </label>
        <div class="form-actions">
          <button type="submit" class="primary-btn">保存</button>
          <button type="button" id="cancel-task-form" class="secondary-btn">キャンセル</button>
        </div>
      </form>
      <ul id="tasks-list" class="task-list"></ul>
    </section>

    <!-- Settings View -->
    <section id="view-settings" class="view hidden">
      <header class="view-header">
        <h1>設定</h1>
      </header>
      <form id="settings-form" class="settings-form">
        <label>
          対象日<br />
          <input type="date" id="setting-date" />
        </label>
        <label>
          1日の開始時間<br />
          <input type="time" id="setting-start" value="07:00" />
        </label>
        <label>
          1日の終了時間<br />
          <input type="time" id="setting-end" value="23:00" />
        </label>
        <label>
          タスク間バッファ（分）<br />
          <input type="number" id="setting-buffer" min="0" value="5" />
        </label>
        <button type="submit" class="primary-btn">保存</button>
      </form>
    </section>
  </div>

  <script src="script.js"></script>
</body>
</html>